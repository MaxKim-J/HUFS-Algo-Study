## 함수
2020.1.5, C언어 스터디 3차시 예습

---
### 용어정리  
- 호출자(caller) : 함수를 호출하는 모듈  
- 피호출자(callee): 호출 되는 함수  
- 인수(실 매개변수) :  함수 호출시 매개변수에(실제로) 저장하는 값  
- 매개변수(형식 매개변수) : 호출되는 함수에서 전달받은 인수를 저장하는 변수(지역변수)  
- 반환값 : 피호출자에서 return 문을 이용해 호출자에게 돌려주는 값, 함수 실행 결과값  
- 반환값 없는 함수 : 반환형으로 void를 사용, return문은 생략


### C의 함수컴파일 구조

#### Q. main은 왜 필요한가
A. C 소스파일에는 꼭 하나 이상의 함수가 있음. 파일에는 함수가  
여러개 있기 때문에 소스코드를 번역하는 컴파일러 입장에서는  
어떤 함수가 최초로 시작되는 함수인지를 알아야 제대로 된 번역 가능  
그래서 main이라는 이름의 함수를 프로그램 시작 함수로 정해 놓은 것..

#### Q. 함수 앞에 자료형 선언은 왜붙나
A. 함수 이름 앞에 쓰는 키워드는 함수 결과값의 형태!!  
함수의 수행 결과 값이 **함수 선언 시점**에서 정해지지 않았다면 void를 사용한다

#### Q. 함수의 호출 과정
```
void main() {
  int a = 2, b = 3, value;
  value = sum(a,b);
}

int Sum(int value1, int value2) {
  int result = value1 + value2;
  return result
}
```
1. main함수가 sum함수를 호출하면서 a와 b값을 sum함수에 전달
2. sum함수의 매개변수에 main 함수에서 전달받은 값이 복사
3. 입력된 값으로 더하기 수행
4. main함수로 결과 값을 반환

#### Q. 함수의 반환값  
1. 함수가 값을 반환한다는 것은 **호출자의 어떤 변수에 값을 대입**한다는 뜻

  - 따라서 변수를 선언할 때처럼 함수 이름 앞에 함수의 반환값에 대한 자료형을 명시해야함  
  -  즉, main함수에서 불러지는 피호출자 함수의 반환값은 함수 선언할때의 키워드와 일치해야 하고  
  - main에서 만약에 리턴값을 어떤 변수에 넣을거면 그 변수 역시도 키워드와 일치해야함(깐깐해...)
  - **void로 선언한 함수의 return 뒤에 반환값을 적으면 오류로 처리된다**

2. 또한 return은 함수를 종결하는 역할을 하기도
```
void Test(int value1, int value2) {
  int a = 5;
  return;
}
```
  - 단순히 함수를 종결할 목적으로 return을 사용할 때는 다음처럼 return 뒤에 반환값을 적지 않아도 오류가 발생하지 않음  

#### Q. main은 뭐하는 친구죠??  

- main은 한개만 있어야 함. 
- main은 반환형이나 매개변수를 사용자가 별도로 정할 수 없음.
- 함수의 상태값을 return할 수 있음 int main()으로 선언했을 때 가능
- 정해진 매개변수 받기 가능, 없을 경우 명시적으로 매개변수 안에 void라고 써줄 수도 있음

#### 함수 원형 선언
- 피호출자가 호출자의 위쪽에 있는 경우에는 번역에 문제가 생기지 않음
- 그러나 반대의 경우에는 main함수에서 오류가 생김 - 컴파일러가 그걸 본적이 없어서
- 충돌하는 경우(함수에서 서로가 서로 부를 때) - 함수 원형을 써서 해결, 피호출자가 아래 있더라도 컴파일러가 번역할 때 오류가 발생하지 않는다

```
#include <stdio.h>

int sub1(int);
int sub2(int, double);

int sub1(int a)
{
  sub2(a, 0.5);
}

int sub2(int b, double c)
{
  sub1(b);
}

int main(void)
{
  return 0;
}
```
